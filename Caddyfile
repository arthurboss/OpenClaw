# OpenClaw HTTP/3 Development Server with Brotli Support

localhost:8080 {
	root * Build_Release
	file_server {
		browse
	}
	encode br zstd gzip

	tls internal {
		protocols tls1.2 tls1.3
		alpn h2 h3
	}

	header {
		# HTTP/3 support
		Alt-Svc "h3=\":8080\"; ma=3600"

		# Security headers
		X-Content-Type-Options nosniff
		X-Frame-Options DENY
		X-XSS-Protection "1; mode=block"

		# Cache control for development
		Cache-Control "no-cache, no-store, must-revalidate, max-age=0"
		Pragma "no-cache"
		Expires "Thu, 01 Jan 1970 00:00:00 GMT"
	}

	log {
		output file /tmp/openclaw_access.log
		format console
	}

	header {
		Access-Control-Allow-Origin *
		Access-Control-Allow-Methods "GET, POST, OPTIONS"
		Access-Control-Allow-Headers "Content-Type"
	}
}
